public class Point
{
    public int X { get; }
    public int Y { get; }

    public Point(int x, int y)
    {
        X = x;
        Y = y;
    }
}

public class Figure
{
    public string Name { get; set; }
    private Point[] points;

    public Figure(Point point1, Point point2, Point point3)
        : this(new Point[] { point1, point2, point3 }, "Triangle") { }

    public Figure(Point point1, Point point2, Point point3, Point point4)
        : this(new Point[] { point1, point2, point3, point4 }, "Quadrilateral") { }

    public Figure(Point point1, Point point2, Point point3, Point point4, Point point5)
        : this(new Point[] { point1, point2, point3, point4, point5 }, "Pentagon") { }

    private Figure(Point[] points, string defaultName)
    {
        if (points.Length < 3)
            throw new ArgumentException("Figure must have at least 3 points");

        this.points = points;
        Name = defaultName;
    }

    public double LengthSide(Point A, Point B)
    {
        int deltaX = B.X - A.X;
        int deltaY = B.Y - A.Y;
        return Math.Sqrt(deltaX * deltaX + deltaY * deltaY);
    }

    public double PerimeterCalculator()
    {
        double perimeter = 0;
        for (int i = 0; i < points.Length; i++)
        {
            Point currentPoint = points[i];
            Point nextPoint = points[(i + 1) % points.Length];
            perimeter += LengthSide(currentPoint, nextPoint);
        }

        return perimeter;
    }
}

class Program
{
    static void Main(string[] args)
    {
        // Создаем точки для треугольника
        Point p1 = new Point(0, 0);
        Point p2 = new Point(3, 0);
        Point p3 = new Point(0, 4);
        Figure triangle = new Figure(p1, p2, p3);
        triangle.Name = "Right Triangle";

        Console.WriteLine($"Figure: {triangle.Name}");
        Console.WriteLine($"Perimeter: {triangle.PerimeterCalculator():F2}");
        Console.WriteLine();

        // Создаем точки для четырехугольника
        Point p4 = new Point(0, 0);
        Point p5 = new Point(4, 0);
        Point p6 = new Point(4, 3);
        Point p7 = new Point(0, 3);

        // Создаем фигуру (прямоугольник)
        Figure rectangle = new Figure(p4, p5, p6, p7);
        rectangle.Name = "Rectangle";

        Console.WriteLine($"Figure: {rectangle.Name}");
        Console.WriteLine($"Perimeter: {rectangle.PerimeterCalculator():F2}");
    }
}

